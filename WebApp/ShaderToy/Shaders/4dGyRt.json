[{"ver":"0.1","info":{"id":"4dGyRt","date":"1522863468","viewed":1166,"name":"Black Hole Transit","username":"nightfox","description":"Simulating the transit of a black hole and the effects of gravitational lensing.","likes":11,"published":3,"flags":0,"usePreview":1,"tags":["space","physics","astronomy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"\/media\/a\/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"\/media\/ap\/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \/\/ Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord\/iResolution.xy;\n    \n    uv *= 4.;\n    uv.x *= iResolution.x\/iResolution.y;\n    \n    vec2 bh = vec2(-3.+mod(iTime,12.),2.);\n    float distToHole = distance(uv,bh);\n    vec2 awayVec = normalize(uv - bh);\n    \n    uv -= awayVec\/distToHole*.6;\n    vec3 space = texture(iChannel0,uv*.2).rgb*clamp(0.,1.,pow(3.*distToHole,2.)\/8.);\n    uv -= 1.;\n    \n    space = space*space*space;\n    vec3 col = space * 2.;\n    \n    \/\/ Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}]